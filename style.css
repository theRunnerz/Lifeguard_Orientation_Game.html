:root{
  --ui:#222;
  --uiText:#fff;
  --accent:#0aa3ff;
  --ok:#2ecc71;
  --bad:#e74c3c;
}

*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:system-ui,Arial,sans-serif;background:linear-gradient(#eaf6ff,#ffffff);color:#111}
header{background:var(--accent);color:#fff;padding:12px 16px;text-align:center}
main{max-width:980px;margin:14px auto;padding:8px}
#hud{display:flex;flex-direction:column;gap:6px;text-align:center;margin-bottom:8px}
#status{font-weight:700}
#instructions{font-size:13px;color:#333}

#game-wrap{position:relative;width:100%;aspect-ratio:16/10;background:#cfefff;border-radius:8px;overflow:hidden;border:2px solid rgba(0,0,0,0.06)}
canvas{width:100%;height:100%;display:block;touch-action:none;background:transparent}
.floating{position:absolute;right:12px;bottom:12px;z-index:30;padding:10px 12px;border-radius:8px;border:none;background:#007fbf;color:#fff;font-weight:700}

#footer-note{margin-top:10px;text-align:center;color:#333;font-size:13px}

/* Modal */
.modal{position:fixed;inset:0;display:none;place-items:center;background:rgba(0,0,0,0.45);z-index:80}
.panel{width:min(720px,94vw);background:var(--ui);color:var(--uiText);border-radius:8px;border:3px solid #fff;overflow:hidden}
.panel header{background:#111;padding:10px 12px;font-weight:700}
.panel .content{padding:12px;display:grid;gap:10px}
.btnrow{display:flex;gap:8px;flex-wrap:wrap}
.btn{padding:8px 10px;border-radius:6px;border:none;background:#444;color:#fff;font-weight:700;cursor:pointer}
.btn:disabled{opacity:.5;cursor:not-allowed}
.btn.ok{background:var(--ok)}
.btn.bad{background:var(--bad)}

.vial-row{display:flex;gap:12px;align-items:center}
.tube{width:44px;height:88px;background:#eee;border:3px solid #333;border-bottom-left-radius:8px;border-bottom-right-radius:8px;position:relative;overflow:hidden}
.fill{position:absolute;left:0;right:0;bottom:0;height:0;background:#f7e26b;transition:height .25s, background .25s}
.note{font-size:14px}

/* Responsive */
@media(max-width:720px){
  .floating{right:8px;bottom:8px;padding:8px}
  .panel{width:96vw}
}
