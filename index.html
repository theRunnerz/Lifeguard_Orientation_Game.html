<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Lifeguard Orientation Game</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <style>
    body {
      margin: 0;
      background: #111;
      color: white;
      font-family: sans-serif;
    }

    h2, p {
      margin: 10px 0;
      text-align: center;
    }

    canvas {
      display: block;
      margin: auto;
      background: #1b1b1b;
      touch-action: none;
    }

    /* UI container at bottom */
    #ui {
      position: fixed;
      bottom: 10px;
      left: 0;
      width: 100%;
      display: flex;
      justify-content: space-between;
      padding: 0 20px;
      pointer-events: none; /* children we want clickable must set pointer-events:auto */
    }

    /* Buttons usable even though parent has pointer-events:none */
    button {
      pointer-events: auto;
      padding: 14px 20px;
      font-size: 16px;
    }

    /* Water test UI group */
    #waterTestButtons {
      display: none; /* default hidden; JS toggles to flex during minigame */
      gap: 6px;
      flex-wrap: wrap;
    }

    /* Joystick placeholder (empty for now) */
    #joystick {
      pointer-events: auto;
    }
  </style>
</head>

<body>

  <h2>Lifeguard Orientation Game</h2>
  <p>v1.2.0</p>

  <canvas id="game" width="640" height="480"></canvas>

  <!-- UI Layer -->
  <div id="ui">
    <!-- Left-side container: joystick + test UI -->
    <div style="display:flex; gap:10px; pointer-events:none;">
      <div id="joystick"></div>

      <!-- Water Test Buttons (only visible in miniâ€‘game) -->
      <div id="waterTestButtons">
        <button id="fillVial">Fill Half</button>
        <button id="drop0001">+ Drop 0001</button>
        <button id="drop0002">+ Drop 0002</button>
        <button id="drop0003">+ Drop 0003</button>
        <button id="exitTest">Exit</button>
      </div>
    </div>

    <!-- Right-side: Interact button -->
    <button id="interact">INTERACT</button>
  </div>

  <!-- Olaf: unlockable AI helper (MOVED OUTSIDE #ui so clicks are not blocked) -->
  <button id="olafToggle" class="hidden" title="Open Olaf (H)">
    ðŸ§Š Olaf
  </button>

  <div id="olafPanel" class="hidden" role="dialog" aria-label="Olaf assistant">
    <div class="olaf-header">
      <strong>ðŸ§Š Olaf â€” Lifeguard AI Guide</strong>
      <button id="olafClose" aria-label="Close">Ã—</button>
    </div>
    <div id="olafFeed" class="olaf-feed" aria-live="polite"></div>
    <div class="olaf-input">
      <input id="olafInput" type="text" placeholder="Ask Olafâ€¦ (e.g., 'how do I finish the chlorine test?')" />
      <button id="olafSend">Send</button>
    </div>
  </div>

  <script src="game.js"></script>

</body>
</html>
